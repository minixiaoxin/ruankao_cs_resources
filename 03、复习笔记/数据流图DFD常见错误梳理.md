# 数据流图DFD常见错误梳理

## 1、DFD结构

五种基本结构：

- 数据源(Source)，输入系统的外部实体，矩形表示
- 数据流(Data Flow)，数据在系统中的流动路径，箭头表示
- 处理过程(Processing)，将输入数据转换为输出数据的处理功能，圆形表示
- 数据存储(Data Store)，系统中对数据进行存储的地方，长方形表示
- 数据汇(Destination)，系统输出的外部实体，矩形表示

## 2、常见错误

- 父图和子图平衡问题

- **黑洞**：只有输入流没有输出流

- **奇迹**：只有输出流没有输入流

- **灰洞**：部分输入无法加工出输出流

> 灰洞错误通常是由于数据流图设计不合理或者过于复杂导致，典型的灰洞错误有以下几种情况：
>
> 1.输入变量与输出变量之间存在缺失或者冗余连接。
>
> 2.数据流图中存在环路或死循环，导致数据无法流向输出端口。
>
> 3.某个模块没有被正确连接到其他模块，导致数据无法传送到输出端口

- 实体与实体之间有数据流

- 实体与数据存储之间有数据流

- 输入流和输出流的名字相同
- 数据流方向错误：数据流应该从**上游处理节点**流向**下游处理节点**，如果出现反向或者交叉方向的数据流，则会导致系统运行异常。
- 数据流量错漏：漏掉某个数据流或者数据流量超过预期等问题，都有可能导致系统无法正确地处理数据。
- 处理节点错误：处理节点的功能和性质不清或不准确，或者处理节点内部的处理逻辑错误都会导致系统运行异常。
- 数据存储错误：数据存储的设计不合理或者数据存储方式错误，如过度冗余或不充分的数据存储，都会导致系统无法按照预期工作。
- 模块接口错误：模块接口设计不同或者模块接口信息不全等问题也会导致系统无法正常运行。
- 未考虑异常情况：在数据流图中，可能会出现各种异常情况，如输入错误、数据丢失等，如果没有妥善考虑这些异常情况，就可能导致系统崩溃或无法正常工作。